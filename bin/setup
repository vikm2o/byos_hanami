#! /usr/bin/env bash

set -o nounset
set -o errexit
set -o pipefail
IFS=$'\n\t'

source bin/shell/settings.sh
source bin/shell/functions.sh

if [[ "${1:-}" == "docker" ]]; then
  printf "%s\n" "Setting up Docker..."
  create_global_environment
else
  printf "%s\n\n" "Setting up Terminus..."

  create_global_environment
  create_development_environment
  create_test_environment
  create_development_procfile
  create_docker_compose_development_configuration
  install_gems
  install_packages
  prepare_database
fi

printf "%s\n" "Setup complete!"
